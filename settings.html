<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Expense Monitor</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <nav>
        <div class="logo">ExpenseMonitor</div>
        <div class="links">
            <a href="index.html">Dashboard</a>
            <a href="add-expense.html">Add Expense</a>
            <a href="view-expenses.html">View Expenses</a>
            <a href="report.html">Reports</a>
            <a href="settings.html">Settings</a>
        </div>
    </nav>
    <div class="container">
        <h2>Settings</h2>
        <label>Username:</label>
        <input type="text" id="username" placeholder="Enter your username">
        <button onclick="saveUsername()" class="btn">Save Username</button>
        <div class="success" id="usernameMsg">Username updated!</div>
        <button onclick="resetExpenses()" class="btn">Clear All Expenses</button>
        <div class="success" id="resetMsg">All expenses cleared!</div>
    </div>
    <script>
        window.onload = function() {
            const storedName = localStorage.getItem("username");
            if (storedName) {
                document.getElementById("username").value = storedName;
            }
        }
        function saveUsername() {
            const username = document.getElementById("username").value.trim();
            if (username === "") {
                alert("Username cannot be empty!");
                return;
            }
            localStorage.setItem("username", username);
            const msg = document.getElementById("usernameMsg");
            msg.style.display = "block";
            setTimeout(() => { msg.style.display = "none"; }, 2000);
        }
        function resetExpenses() {
            if (confirm("Are you sure you want to delete all expenses?")) {
                localStorage.removeItem("expenses");
                const msg = document.getElementById("resetMsg");
                msg.style.display = "block";
                setTimeout(() => { msg.style.display = "none"; }, 2000);
            }
        }
    </script>
</body>
</html>